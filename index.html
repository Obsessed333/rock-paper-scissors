<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div></div>
    <div id="resultContainer"></div>
    <script>



// getting the computer choice
function getComputerChoice(){
// initializing choice array
    let choice = ['rock', 'paper', 'scissors'];
// returning a random index from the array
    return choice[Math.floor(Math.random() * choice.length)];
}
//getting the player choice


let playerSelection;


//playRound function that will tell you if you won or lost
function playRound(){
//initializing computer selection variable to store the computers choice
const computerSelection = getComputerChoice();
//initializing player selection variable to store the players choice
  
//initializing result variable to store who won
let result;
//writing an if then else containing every possible outcome and RETURNING THE VALUE
if (
    (playerSelection === 'scissors' && computerSelection === 'rock') ||
    (playerSelection === 'rock' && computerSelection === 'paper') ||
    (playerSelection === 'paper' && computerSelection === 'scissors')
  ) 
  {
    result = `You lose, ${computerSelection} beats ${playerSelection}`;
    return ['computer', result];
  } else if (
    (playerSelection === 'rock' && computerSelection === 'scissors') ||
    (playerSelection === 'paper' && computerSelection === 'rock') ||
    (playerSelection === 'scissors' && computerSelection === 'paper')
  ) {
    result = `You win, ${playerSelection} beats ${computerSelection}`;
    return ['player', result];
  } else {
    //return to playRound because draw is not allowed
    return playRound();
  }
 
}

const div = document.querySelector("div");
const resultContainer = document.getElementById('resultContainer');
resultContainer.style.display= "flex";
resultContainer.style.flexDirection="column";
resultContainer.style.gap="3px";

const button1 = document.createElement("button");
const button2 = document.createElement("button");
const button3 = document.createElement("button");

button1.textContent ='Rock';
button2.textContent = 'Paper';
button3.textContent ='Scissors';

div.appendChild(button1);
div.appendChild(button2);
div.appendChild(button3);

div.style.display="flex";
div.style.gap="10px";

let playerWins = 0;
let computerWins = 0;


button1.addEventListener('click', function() {

    playerSelection ="rock";
    const rock =playRound();
    const rockR = document.createElement('span');
    resultContainer.appendChild(rockR);
    const [winner, result] = rock;

if( winner == 'computer')
{
    computerWins++;
} else if(winner == 'player'){

    playerWins++;
}
rockR.textContent = `${rock} - Player: ${playerWins} / Computer: ${computerWins}`;
displayWinner();

    }
    
    );
button2.addEventListener('click', function(){
    
    playerSelection ="paper";
    const paper =playRound();
    const paperR = document.createElement('span');
    
    resultContainer.appendChild(paperR);
    const [winner, result] = paper;
    if( winner == 'computer')
    {
        computerWins++;
    } else if(winner == 'player'){

        playerWins++;
    }
    paperR.textContent = `${paper} - Player: ${playerWins} / Computer: ${computerWins}`;
    displayWinner();
    
    
});
button3.addEventListener('click', function(){

    playerSelection="scissors";
    
    const scissors = playRound();
    const scissorsR = document.createElement('span');
    resultContainer.appendChild(scissorsR);
    const [winner, result] = scissors;
    if( winner == 'computer')
    {
    computerWins++;
    } else if(winner == 'player'){

    playerWins++;
    }
    scissorsR.textContent = `${scissors} - Player: ${playerWins} / Computer: ${computerWins}`;
    displayWinner();
    


});

function displayWinner(){
if (computerWins === 3 || playerWins === 3) {
if(computerWins === 3){

const computerWon = document.createElement('span');
computerWon.textContent = `Computer won - Player: ${playerWins} / Computer: ${computerWins}`;
resultContainer.appendChild(computerWon);
resetGame();


} else if(playerWins === 3){
    const playerWon = document.createElement('span');
    playerWon.textContent = `Player won - Player: ${playerWins} / Computer: ${computerWins}`;
    resultContainer.appendChild(playerWon);
    resetGame();
}
} else{


}
}
function resetGame() {
    playerWins = 0;
    computerWins = 0;
}
    </script>

</body>
</html>